%% Resizes bounding box for image files. Uses function resize_img.m
% Joseph Griffis

clc
clear all
addpath(genpath('/media/store2/MATLAB/toolbox/spm8/'));  % Add SPM to matlab path (for reslicing function)
addpath(genpath('/media/store3/Projects/Joe/LANES_FMRI/A/FMRI_Scripts/')); % add complementary functions used

images = {'Func_Def_ROI.rh' 'INF_ROI.rh'}; 

subject_dir = '/media/store3/Projects/Wess/subjects';
cd(subject_dir);
subject =  {'1000326.ct'...
'1000426.ct'...
'1000726.ct'...
'1001026.ct'...
'1001226.ct'...
'1001326.ct'...
'1002126.ct'...
'1002826.ct'...
'1002926.ct'...
'1003426.ct'...
'1003626.ct'...
'1004226.ct'...
'1004326.ct'...
'1005226.ct'...
'1005426.ct'...
'1005726.ct'...
'1005826.ct'...
'1006626.ct'...
'1006726.ct'...
'1006926.ct'...
'1007726.ct'...
'1007826.ct'...
'1008126.ct'...
'1008626.ct'...
'1009126.ct'...
'1009226.ct'...
'1009326.ct'...
'1009526.ct'...
'1009626.ct'...
'1009926.ct'...
'1010226.ct'...
'1010426.ct'...
'1011026.ct'...
'1011226.ct'...
'1011426.ct'...
'1011526.ct'...
'1012526.ct'...
'1013526.ct'...
'1014526r2'...
'1010826r2' ...
'1010726r2'...
};

Voxdim = [2 2 2];
BB = [-78 -112 -50; 78 76 84];

for i = 1:length(subject)
    
    image_dir = fullfile(subject_dir, subject{i}, 'label');
    cd(image_dir);
    
    for j = 1:length(images)
        
        imnames = strcat(images{j}, '.label.nii');
        resize_img(imnames, Voxdim, BB);
    end
end