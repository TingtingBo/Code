% Subs= {'MAC_CON_08' 'MAC_CON_011' 'MAC_CON_013' 'MAC_CON_014' 'MAC_CON_016' 'MAC_DE_014'  ...
% 'MAC_CON_019'  'MAC_CON_024' 'MAC_CON_025' 'MAC_CON_026' 'MAC_CON_028'...
% 'MAC_DE_08' 'VINES_1001026' 'MAC_DE_011' 'MAC_DE_013' 'MAC_DE_016' 'MAC_DE_024' ...
% 'MAC_DE_019' 'MAC_DE_021' 'MAC_DE_025' 'MAC_DE_026' 'MAC_DE_028'...
% 'LOAF_019' 'LOAF_020' 'LOAF_022' 'LOAF_023' 'LOAF_025' 'LOAF_028' 'LOAF_031'...
% 'LOAF_032' 'LOAF_033' 'LOAF_035' 'LOAF_038'};
%% MacD subs
Subs= {'MAC_CON_011'...
'MAC_CON_013'...
'MAC_CON_016'...
'MAC_CON_018'...
'MAC_CON_019'...
'MAC_CON_024'...
'MAC_CON_025'...
'MAC_CON_026'...
'MAC_CON_08'...
'MAC_CON_09'...
 'MAC_DE_011'...
'MAC_DE_013'...
'MAC_DE_016'...
'MAC_DE_018'...
'MAC_DE_019'...
'MAC_DE_024'...
'MAC_DE_025'...
'MAC_DE_026'...
'MAC_DE_08'...
'MAC_DE_09'
};
%% Con subs
Subs = {'MAC_CON_025' 'MAC_CON_024' 'MAC_CON_019' 'MAC_CON_08'...
        'MAC_DE_025' 'MAC_DE_024' 'MAC_DE_019' 'MAC_DE_08'};
%% MAC AND CON    
Subs = {  'MAC_DE_011'...
'MAC_DE_013'...
'MAC_DE_016'...
'MAC_DE_018'...
'MAC_DE_019'...
'MAC_DE_024'...
'MAC_DE_025'...
'MAC_DE_026'...
'MAC_DE_08'...
'MAC_DE_09' };

labelslh = {'1_LH_V1.label' '3_LH_V1.label' '5_LH_V1.label' '7_LH_V1.label'...
'2_LH_V1.label' '4_LH_V1.label' '6_LH_V1.label' '8_LH_V1.label' '9_LH_V1.label' };
labelsrh = {'1_RH_V1.label' '3_RH_V1.label' '5_RH_V1.label' '7_RH_V1.label'...
'2_RH_V1.label' '4_RH_V1.label' '6_RH_V1.label' '8_RH_V1.label' '9_RH_V1.label' };
labelsrh = {'9_RH_V1.label'};



%% lh labels from fsaverage spread to participants
for j=1:length(labelslh)
    for i=1:length(Subs)
        
        eval(['! mri_label2label --srcsubject fsaverage --srclabel fsaverage/label/' labelslh{j}...
            ' --trgsubject ' Subs{i} ' --trglabel ' Subs{i} '/label/' labelslh{j} ...
            ' --regmethod surface --hemi lh'])
      
    end
end
%% rh labels from fsaverage spread to participants
for j=1:length(labelsrh)
    for i=1:length(Subs)
        
        eval(['! mri_label2label --srcsubject fsaverage --srclabel fsaverage/label/' labelsrh{j}...
            ' --trgsubject ' Subs{i} ' --trglabel ' Subs{i} '/label/' labelsrh{j} ...
            ' --regmethod surface --hemi rh'])
      
    end
end

%% lh stats files created from each label
for j=1:length(labelslh)
    for i=1:length(Subs)
        
        eval(['! mris_anatomical_stats -l ' labelslh{j} ' -f ' Subs{i} '.' labelslh{j} '.out ' Subs{i} ' lh'])
      
    end
end
%% rh stats files created from each label 
for j=1:length(labelsrh)
    for i=1:length(Subs)
        
        eval(['! mris_anatomical_stats -l ' labelsrh{j} ' -f ' Subs{i} '.' labelsrh{j} '.out ' Subs{i} ' rh'])
      
    end
end


%% Read in files and get data together
for x = 1
%files
label_files ={ 'MAC_CON_013.1_sup_lh_V1.label.out'  'MAC_CON_026.4_sup_lh_V1.label.out'  'MAC_DE_024.7_inf_lh_V1.label.out'...
'MAC_CON_013.1_sup_rh_V1.label.out'  'MAC_CON_026.4_sup_rh_V1.label.out'  'MAC_DE_024.7_inf_rh_V1.label.out'...
'MAC_CON_013.2_sup_lh_V1.label.out'  'MAC_CON_026.5_inf_lh_V1.label.out'  'MAC_DE_024.8_inf_lh_V1.label.out'...
'MAC_CON_013.2_sup_rh_V1.label.out'  'MAC_CON_026.5_inf_rh_V1.label.out'  'MAC_DE_024.8_inf_rh_V1.label.out'...
'MAC_CON_013.3_sup_lh_V1.label.out'  'MAC_CON_026.6_inf_lh_V1.label.out'  'MAC_DE_019.1_sup_lh_V1.label.out'...
'MAC_CON_013.3_sup_rh_V1.label.out'  'MAC_CON_026.6_inf_rh_V1.label.out'  'MAC_DE_019.1_sup_rh_V1.label.out'...
'MAC_CON_013.4_sup_lh_V1.label.out'  'MAC_CON_026.7_inf_lh_V1.label.out'  'MAC_DE_019.2_sup_lh_V1.label.out'...
'MAC_CON_013.4_sup_rh_V1.label.out'  'MAC_CON_026.7_inf_rh_V1.label.out'  'MAC_DE_019.2_sup_rh_V1.label.out'...
'MAC_CON_013.5_inf_lh_V1.label.out'  'MAC_CON_026.8_inf_lh_V1.label.out'  'MAC_DE_019.3_sup_lh_V1.label.out'...
'MAC_CON_013.5_inf_rh_V1.label.out'  'MAC_CON_026.8_inf_rh_V1.label.out'  'MAC_DE_019.3_sup_rh_V1.label.out'...
'MAC_CON_013.6_inf_lh_V1.label.out'  'MAC_CON_028.1_sup_lh_V1.label.out'  'MAC_DE_019.4_sup_lh_V1.label.out'...
'MAC_CON_013.6_inf_rh_V1.label.out'  'MAC_CON_028.1_sup_rh_V1.label.out'  'MAC_DE_019.4_sup_rh_V1.label.out'...
'MAC_CON_013.7_inf_lh_V1.label.out'  'MAC_CON_028.2_sup_lh_V1.label.out'  'MAC_DE_019.5_inf_lh_V1.label.out'...
'MAC_CON_013.7_inf_rh_V1.label.out'  'MAC_CON_028.2_sup_rh_V1.label.out'  'MAC_DE_019.5_inf_rh_V1.label.out'...
'MAC_CON_013.8_inf_lh_V1.label.out'  'MAC_CON_028.3_sup_lh_V1.label.out'  'MAC_DE_019.6_inf_lh_V1.label.out'...
'MAC_CON_013.8_inf_rh_V1.label.out'  'MAC_CON_028.3_sup_rh_V1.label.out'  'MAC_DE_019.6_inf_rh_V1.label.out'...
'MAC_CON_014.1_sup_lh_V1.label.out'  'MAC_CON_028.4_sup_lh_V1.label.out'  'MAC_DE_019.7_inf_lh_V1.label.out'...
'MAC_CON_014.1_sup_rh_V1.label.out'  'MAC_CON_028.4_sup_rh_V1.label.out'  'MAC_DE_019.7_inf_rh_V1.label.out'...
'MAC_CON_014.2_sup_lh_V1.label.out'  'MAC_CON_028.5_inf_lh_V1.label.out'  'MAC_DE_019.8_inf_lh_V1.label.out'...
'MAC_CON_014.2_sup_rh_V1.label.out'  'MAC_CON_028.5_inf_rh_V1.label.out'  'MAC_DE_019.8_inf_rh_V1.label.out'...
'MAC_CON_014.3_sup_lh_V1.label.out'  'MAC_CON_028.6_inf_lh_V1.label.out'  'MAC_DE_021.1_sup_lh_V1.label.out'...
'MAC_CON_014.3_sup_rh_V1.label.out'  'MAC_CON_028.6_inf_rh_V1.label.out'  'MAC_DE_021.1_sup_rh_V1.label.out'...
'MAC_CON_014.4_sup_lh_V1.label.out'  'MAC_CON_028.7_inf_lh_V1.label.out'  'MAC_DE_021.2_sup_lh_V1.label.out'...
'MAC_CON_014.4_sup_rh_V1.label.out'  'MAC_CON_028.7_inf_rh_V1.label.out'  'MAC_DE_021.2_sup_rh_V1.label.out'...
'MAC_CON_014.5_inf_lh_V1.label.out'  'MAC_CON_028.8_inf_lh_V1.label.out'  'MAC_DE_021.3_sup_lh_V1.label.out'...
'MAC_CON_014.5_inf_rh_V1.label.out'  'MAC_CON_028.8_inf_rh_V1.label.out'  'MAC_DE_021.3_sup_rh_V1.label.out'...
'MAC_CON_014.6_inf_lh_V1.label.out'  'MAC_CON_08.1_sup_lh_V1.label.out'   'MAC_DE_021.4_sup_lh_V1.label.out'...
'MAC_CON_014.6_inf_rh_V1.label.out'  'MAC_CON_08.1_sup_rh_V1.label.out'   'MAC_DE_021.4_sup_rh_V1.label.out'...
'MAC_CON_014.7_inf_lh_V1.label.out'  'MAC_CON_08.2_sup_lh_V1.label.out'   'MAC_DE_021.5_inf_lh_V1.label.out'...
'MAC_CON_014.7_inf_rh_V1.label.out'  'MAC_CON_08.2_sup_rh_V1.label.out'   'MAC_DE_021.5_inf_rh_V1.label.out'...
'MAC_CON_014.8_inf_lh_V1.label.out'  'MAC_CON_08.3_sup_lh_V1.label.out'   'MAC_DE_021.6_inf_lh_V1.label.out'...
'MAC_CON_014.8_inf_rh_V1.label.out'  'MAC_CON_08.3_sup_rh_V1.label.out'   'MAC_DE_021.6_inf_rh_V1.label.out'...
'MAC_CON_016.1_sup_lh_V1.label.out'  'MAC_CON_08.4_sup_lh_V1.label.out'   'MAC_DE_021.7_inf_lh_V1.label.out'...
'MAC_CON_016.1_sup_rh_V1.label.out'  'MAC_CON_08.4_sup_rh_V1.label.out'   'MAC_DE_021.7_inf_rh_V1.label.out'...
'MAC_CON_016.2_sup_lh_V1.label.out'  'MAC_CON_08.5_inf_lh_V1.label.out'   'MAC_DE_021.8_inf_lh_V1.label.out'...
'MAC_CON_016.2_sup_rh_V1.label.out'  'MAC_CON_08.5_inf_rh_V1.label.out'   'MAC_DE_021.8_inf_rh_V1.label.out'...
'MAC_CON_016.3_sup_lh_V1.label.out'  'MAC_CON_08.6_inf_lh_V1.label.out'   'MAC_DE_025.1_sup_lh_V1.label.out'...
'MAC_CON_016.3_sup_rh_V1.label.out'  'MAC_CON_08.6_inf_rh_V1.label.out'   'MAC_DE_025.1_sup_rh_V1.label.out'...
'MAC_CON_016.4_sup_lh_V1.label.out'  'MAC_CON_08.7_inf_lh_V1.label.out'   'MAC_DE_025.2_sup_lh_V1.label.out'...
'MAC_CON_016.4_sup_rh_V1.label.out'  'MAC_CON_08.7_inf_rh_V1.label.out'   'MAC_DE_025.2_sup_rh_V1.label.out'...
'MAC_CON_016.5_inf_lh_V1.label.out'  'MAC_CON_08.8_inf_lh_V1.label.out'   'MAC_DE_025.3_sup_lh_V1.label.out'...
'MAC_CON_016.5_inf_rh_V1.label.out'  'MAC_CON_08.8_inf_rh_V1.label.out'   'MAC_DE_025.3_sup_rh_V1.label.out'...
'MAC_CON_016.6_inf_lh_V1.label.out'  'MAC_CON_011.1_sup_lh_V1.label.out'  'MAC_DE_025.4_sup_lh_V1.label.out'...
'MAC_CON_016.6_inf_rh_V1.label.out'  'MAC_CON_011.1_sup_rh_V1.label.out'  'MAC_DE_025.4_sup_rh_V1.label.out'...
'MAC_CON_016.7_inf_lh_V1.label.out'  'MAC_CON_011.2_sup_lh_V1.label.out'  'MAC_DE_025.5_inf_lh_V1.label.out'...
'MAC_CON_016.7_inf_rh_V1.label.out'  'MAC_CON_011.2_sup_rh_V1.label.out'  'MAC_DE_025.5_inf_rh_V1.label.out'...
'MAC_CON_016.8_inf_lh_V1.label.out'  'MAC_CON_011.3_sup_lh_V1.label.out'  'MAC_DE_025.6_inf_lh_V1.label.out'...
'MAC_CON_016.8_inf_rh_V1.label.out'  'MAC_CON_011.3_sup_rh_V1.label.out'  'MAC_DE_025.6_inf_rh_V1.label.out'...
'MAC_DE_014.1_sup_lh_V1.label.out'  'MAC_CON_011.4_sup_lh_V1.label.out'  'MAC_DE_025.7_inf_lh_V1.label.out'...
'MAC_DE_014.1_sup_rh_V1.label.out'  'MAC_CON_011.4_sup_rh_V1.label.out'  'MAC_DE_025.7_inf_rh_V1.label.out'...
'MAC_DE_014.2_sup_lh_V1.label.out'  'MAC_CON_011.5_inf_lh_V1.label.out'  'MAC_DE_025.8_inf_lh_V1.label.out'...
'MAC_DE_014.2_sup_rh_V1.label.out'  'MAC_CON_011.5_inf_rh_V1.label.out'  'MAC_DE_025.8_inf_rh_V1.label.out'...
'MAC_DE_014.3_sup_lh_V1.label.out'  'MAC_CON_011.6_inf_lh_V1.label.out'  'MAC_DE_026.1_sup_lh_V1.label.out'...
'MAC_DE_014.3_sup_rh_V1.label.out'  'MAC_CON_011.6_inf_rh_V1.label.out'  'MAC_DE_026.1_sup_rh_V1.label.out'...
'MAC_DE_014.4_sup_lh_V1.label.out'  'MAC_CON_011.7_inf_lh_V1.label.out'  'MAC_DE_026.2_sup_lh_V1.label.out'...
'MAC_DE_014.4_sup_rh_V1.label.out'  'MAC_CON_011.7_inf_rh_V1.label.out'  'MAC_DE_026.2_sup_rh_V1.label.out'...
'MAC_DE_014.5_inf_lh_V1.label.out'  'MAC_CON_011.8_inf_lh_V1.label.out'  'MAC_DE_026.3_sup_lh_V1.label.out'...
'MAC_DE_014.5_inf_rh_V1.label.out'  'MAC_CON_011.8_inf_rh_V1.label.out'  'MAC_DE_026.3_sup_rh_V1.label.out'...
'MAC_DE_014.6_inf_lh_V1.label.out'  'MAC_DE_011.1_sup_lh_V1.label.out'   'MAC_DE_026.4_sup_lh_V1.label.out'...
'MAC_DE_014.6_inf_rh_V1.label.out'  'MAC_DE_011.1_sup_rh_V1.label.out'   'MAC_DE_026.4_sup_rh_V1.label.out'...
'MAC_DE_014.7_inf_lh_V1.label.out'  'MAC_DE_011.2_sup_lh_V1.label.out'   'MAC_DE_026.5_inf_lh_V1.label.out'...
'MAC_DE_014.7_inf_rh_V1.label.out'  'MAC_DE_011.2_sup_rh_V1.label.out'   'MAC_DE_026.5_inf_rh_V1.label.out'...
'MAC_DE_014.8_inf_lh_V1.label.out'  'MAC_DE_011.3_sup_lh_V1.label.out'   'MAC_DE_026.6_inf_lh_V1.label.out'...
'MAC_DE_014.8_inf_rh_V1.label.out'  'MAC_DE_011.3_sup_rh_V1.label.out'   'MAC_DE_026.6_inf_rh_V1.label.out'...
'MAC_CON_019.1_sup_lh_V1.label.out'  'MAC_DE_011.4_sup_lh_V1.label.out'   'MAC_DE_026.7_inf_lh_V1.label.out'...
'MAC_CON_019.1_sup_rh_V1.label.out'  'MAC_DE_011.4_sup_rh_V1.label.out'   'MAC_DE_026.7_inf_rh_V1.label.out'...
'MAC_CON_019.2_sup_lh_V1.label.out'  'MAC_DE_011.5_inf_lh_V1.label.out'   'MAC_DE_026.8_inf_lh_V1.label.out'...
'MAC_CON_019.2_sup_rh_V1.label.out'  'MAC_DE_011.5_inf_rh_V1.label.out'   'MAC_DE_026.8_inf_rh_V1.label.out'...
'MAC_CON_019.3_sup_lh_V1.label.out'  'MAC_DE_011.6_inf_lh_V1.label.out'   'MAC_DE_028.1_sup_lh_V1.label.out'...
'MAC_CON_019.3_sup_rh_V1.label.out'  'MAC_DE_011.6_inf_rh_V1.label.out'   'MAC_DE_028.1_sup_rh_V1.label.out'...
'MAC_CON_019.4_sup_lh_V1.label.out'  'MAC_DE_011.7_inf_lh_V1.label.out'   'MAC_DE_028.2_sup_lh_V1.label.out'...
'MAC_CON_019.4_sup_rh_V1.label.out'  'MAC_DE_011.7_inf_rh_V1.label.out'   'MAC_DE_028.2_sup_rh_V1.label.out'...
'MAC_CON_019.5_inf_lh_V1.label.out'  'MAC_DE_011.8_inf_lh_V1.label.out'   'MAC_DE_028.3_sup_lh_V1.label.out'...
'MAC_CON_019.5_inf_rh_V1.label.out'  'MAC_DE_011.8_inf_rh_V1.label.out'   'MAC_DE_028.3_sup_rh_V1.label.out'...
'MAC_CON_019.6_inf_lh_V1.label.out'  'MAC_DE_013.1_sup_lh_V1.label.out'   'MAC_DE_028.4_sup_lh_V1.label.out'...
'MAC_CON_019.6_inf_rh_V1.label.out'  'MAC_DE_013.1_sup_rh_V1.label.out'   'MAC_DE_028.4_sup_rh_V1.label.out'...
'MAC_CON_019.7_inf_lh_V1.label.out'  'MAC_DE_013.2_sup_lh_V1.label.out'   'MAC_DE_028.5_inf_lh_V1.label.out'...
'MAC_CON_019.7_inf_rh_V1.label.out'  'MAC_DE_013.2_sup_rh_V1.label.out'   'MAC_DE_028.5_inf_rh_V1.label.out'...
'MAC_CON_019.8_inf_lh_V1.label.out'  'MAC_DE_013.3_sup_lh_V1.label.out'   'MAC_DE_028.6_inf_lh_V1.label.out'...
'MAC_CON_019.8_inf_rh_V1.label.out'  'MAC_DE_013.3_sup_rh_V1.label.out'   'MAC_DE_028.6_inf_rh_V1.label.out'...
'MAC_CON_024.1_sup_lh_V1.label.out'  'MAC_DE_013.4_sup_lh_V1.label.out'   'MAC_DE_028.7_inf_lh_V1.label.out'...
'MAC_CON_024.1_sup_rh_V1.label.out'  'MAC_DE_013.4_sup_rh_V1.label.out'   'MAC_DE_028.7_inf_rh_V1.label.out'...
'MAC_CON_024.2_sup_lh_V1.label.out'  'MAC_DE_013.5_inf_lh_V1.label.out'   'MAC_DE_028.8_inf_lh_V1.label.out'...
'MAC_CON_024.2_sup_rh_V1.label.out'  'MAC_DE_013.5_inf_rh_V1.label.out'   'MAC_DE_028.8_inf_rh_V1.label.out'...
'MAC_CON_024.3_sup_lh_V1.label.out'  'MAC_DE_013.6_inf_lh_V1.label.out'   'MAC_DE_08.1_sup_lh_V1.label.out'...
'MAC_CON_024.3_sup_rh_V1.label.out'  'MAC_DE_013.6_inf_rh_V1.label.out'   'MAC_DE_08.1_sup_rh_V1.label.out'...
'MAC_CON_024.4_sup_lh_V1.label.out'  'MAC_DE_013.7_inf_lh_V1.label.out'   'MAC_DE_08.2_sup_lh_V1.label.out'...
'MAC_CON_024.4_sup_rh_V1.label.out'  'MAC_DE_013.7_inf_rh_V1.label.out'   'MAC_DE_08.2_sup_rh_V1.label.out'...
'MAC_CON_024.5_inf_lh_V1.label.out'  'MAC_DE_013.8_inf_lh_V1.label.out'   'MAC_DE_08.3_sup_lh_V1.label.out'...
'MAC_CON_024.5_inf_rh_V1.label.out'  'MAC_DE_013.8_inf_rh_V1.label.out'   'MAC_DE_08.3_sup_rh_V1.label.out'...
'MAC_CON_024.6_inf_lh_V1.label.out'  'MAC_DE_016.1_sup_lh_V1.label.out'   'MAC_DE_08.4_sup_lh_V1.label.out'...
'MAC_CON_024.6_inf_rh_V1.label.out'  'MAC_DE_016.1_sup_rh_V1.label.out'   'MAC_DE_08.4_sup_rh_V1.label.out'...
'MAC_CON_024.7_inf_lh_V1.label.out'  'MAC_DE_016.2_sup_lh_V1.label.out'   'MAC_DE_08.5_inf_lh_V1.label.out'...
'MAC_CON_024.7_inf_rh_V1.label.out'  'MAC_DE_016.2_sup_rh_V1.label.out'   'MAC_DE_08.5_inf_rh_V1.label.out'...
'MAC_CON_024.8_inf_lh_V1.label.out'  'MAC_DE_016.3_sup_lh_V1.label.out'   'MAC_DE_08.6_inf_lh_V1.label.out'...
'MAC_CON_024.8_inf_rh_V1.label.out'  'MAC_DE_016.3_sup_rh_V1.label.out'   'MAC_DE_08.6_inf_rh_V1.label.out'...
'MAC_CON_025.1_sup_lh_V1.label.out'  'MAC_DE_016.4_sup_lh_V1.label.out'   'MAC_DE_08.7_inf_lh_V1.label.out'...
'MAC_CON_025.1_sup_rh_V1.label.out'  'MAC_DE_016.4_sup_rh_V1.label.out'   'MAC_DE_08.7_inf_rh_V1.label.out'...
'MAC_CON_025.2_sup_lh_V1.label.out'  'MAC_DE_016.5_inf_lh_V1.label.out'   'MAC_DE_08.8_inf_lh_V1.label.out'...
'MAC_CON_025.2_sup_rh_V1.label.out'  'MAC_DE_016.5_inf_rh_V1.label.out'   'MAC_DE_08.8_inf_rh_V1.label.out'...
'MAC_CON_025.3_sup_lh_V1.label.out'  'MAC_DE_016.6_inf_lh_V1.label.out'   'VINES_1001026.1_sup_lh_V1.label.out'...
'MAC_CON_025.3_sup_rh_V1.label.out'  'MAC_DE_016.6_inf_rh_V1.label.out'   'VINES_1001026.1_sup_rh_V1.label.out'...
'MAC_CON_025.4_sup_lh_V1.label.out'  'MAC_DE_016.7_inf_lh_V1.label.out'   'VINES_1001026.2_sup_lh_V1.label.out'...
'MAC_CON_025.4_sup_rh_V1.label.out'  'MAC_DE_016.7_inf_rh_V1.label.out'   'VINES_1001026.2_sup_rh_V1.label.out'...
'MAC_CON_025.5_inf_lh_V1.label.out'  'MAC_DE_016.8_inf_lh_V1.label.out'   'VINES_1001026.3_sup_lh_V1.label.out'...
'MAC_CON_025.5_inf_rh_V1.label.out'  'MAC_DE_016.8_inf_rh_V1.label.out'   'VINES_1001026.3_sup_rh_V1.label.out'...
'MAC_CON_025.6_inf_lh_V1.label.out'  'MAC_DE_024.1_sup_lh_V1.label.out'   'VINES_1001026.4_sup_lh_V1.label.out'...
'MAC_CON_025.6_inf_rh_V1.label.out'  'MAC_DE_024.1_sup_rh_V1.label.out'   'VINES_1001026.4_sup_rh_V1.label.out'...
'MAC_CON_025.7_inf_lh_V1.label.out'  'MAC_DE_024.2_sup_lh_V1.label.out'   'VINES_1001026.5_inf_lh_V1.label.out'...
'MAC_CON_025.7_inf_rh_V1.label.out'  'MAC_DE_024.2_sup_rh_V1.label.out'   'VINES_1001026.5_inf_rh_V1.label.out'...
'MAC_CON_025.8_inf_lh_V1.label.out'  'MAC_DE_024.3_sup_lh_V1.label.out'   'VINES_1001026.6_inf_lh_V1.label.out'...
'MAC_CON_025.8_inf_rh_V1.label.out'  'MAC_DE_024.3_sup_rh_V1.label.out'   'VINES_1001026.6_inf_rh_V1.label.out'...
'MAC_CON_026.1_sup_lh_V1.label.out'  'MAC_DE_024.4_sup_lh_V1.label.out'   'VINES_1001026.7_inf_lh_V1.label.out'...
'MAC_CON_026.1_sup_rh_V1.label.out'  'MAC_DE_024.4_sup_rh_V1.label.out'   'VINES_1001026.7_inf_rh_V1.label.out'...
'MAC_CON_026.2_sup_lh_V1.label.out'  'MAC_DE_024.5_inf_lh_V1.label.out'   'VINES_1001026.8_inf_lh_V1.label.out'...
'MAC_CON_026.2_sup_rh_V1.label.out'  'MAC_DE_024.5_inf_rh_V1.label.out'   'VINES_1001026.8_inf_rh_V1.label.out'...
'MAC_CON_026.3_sup_lh_V1.label.out'  'MAC_DE_024.6_inf_lh_V1.label.out'...
 'MAC_CON_026.3_sup_rh_V1.label.out'  'MAC_DE_024.6_inf_rh_V1.label.out'};
end

macdcon = {'MAC_CON_019.1_LH_V1.label.out','MAC_CON_019.2_LH_V1.label.out','MAC_CON_019.3_LH_V1.label.out','MAC_CON_019.4_LH_V1.label.out','MAC_CON_019.5_LH_V1.label.out','MAC_CON_019.6_LH_V1.label.out','MAC_CON_019.7_LH_V1.label.out','MAC_CON_019.8_LH_V1.label.out','MAC_CON_024.1_LH_V1.label.out','MAC_CON_024.2_LH_V1.label.out','MAC_CON_024.3_LH_V1.label.out','MAC_CON_024.4_LH_V1.label.out','MAC_CON_024.5_LH_V1.label.out','MAC_CON_024.6_LH_V1.label.out','MAC_CON_024.7_LH_V1.label.out','MAC_CON_024.8_LH_V1.label.out','MAC_CON_025.1_LH_V1.label.out','MAC_CON_025.2_LH_V1.label.out','MAC_CON_025.3_LH_V1.label.out','MAC_CON_025.4_LH_V1.label.out','MAC_CON_025.5_LH_V1.label.out','MAC_CON_025.6_LH_V1.label.out','MAC_CON_025.7_LH_V1.label.out','MAC_CON_025.8_LH_V1.label.out','MAC_CON_08.1_LH_V1.label.out','MAC_CON_08.2_LH_V1.label.out','MAC_CON_08.3_LH_V1.label.out','MAC_CON_08.4_LH_V1.label.out','MAC_CON_08.5_LH_V1.label.out','MAC_CON_08.6_LH_V1.label.out','MAC_CON_08.7_LH_V1.label.out','MAC_CON_08.8_LH_V1.label.out';};
macD = {'MAC_DE_019.1_LH_V1.label.out','MAC_DE_019.2_LH_V1.label.out','MAC_DE_019.3_LH_V1.label.out','MAC_DE_019.4_LH_V1.label.out','MAC_DE_019.5_LH_V1.label.out','MAC_DE_019.6_LH_V1.label.out','MAC_DE_019.7_LH_V1.label.out','MAC_DE_019.8_LH_V1.label.out','MAC_DE_024.1_LH_V1.label.out','MAC_DE_024.2_LH_V1.label.out','MAC_DE_024.3_LH_V1.label.out','MAC_DE_024.4_LH_V1.label.out','MAC_DE_024.5_LH_V1.label.out','MAC_DE_024.6_LH_V1.label.out','MAC_DE_024.7_LH_V1.label.out','MAC_DE_024.8_LH_V1.label.out','MAC_DE_025.1_LH_V1.label.out','MAC_DE_025.2_LH_V1.label.out','MAC_DE_025.3_LH_V1.label.out','MAC_DE_025.4_LH_V1.label.out','MAC_DE_025.5_LH_V1.label.out','MAC_DE_025.6_LH_V1.label.out','MAC_DE_025.7_LH_V1.label.out','MAC_DE_025.8_LH_V1.label.out','MAC_DE_08.1_LH_V1.label.out','MAC_DE_08.2_LH_V1.label.out','MAC_DE_08.3_LH_V1.label.out','MAC_DE_08.4_LH_V1.label.out','MAC_DE_08.5_LH_V1.label.out','MAC_DE_08.6_LH_V1.label.out','MAC_DE_08.7_LH_V1.label.out','MAC_DE_08.8_LH_V1.label.out';}



for i = 1:length(label_files)
    
fid = fopen(label_files{i});

CT_DATA = textscan(fid, '%s%s%s%s%s%s%s%s%s%s%s%s%s','Headerlines', 1,'EmptyValue', NaN,'CommentStyle','*');

fclose(fid);

%data of interest
tempctstring = CT_DATA{1,5}(52);

%convert 2 number
ctnum = str2num(tempctstring{1});

%clear var
temp1 = label_files{i}(1:6);
temp2{1} = temp1;
temp5 = label_files{i}(1:10);
temp6{1} = temp5;
temp3 = label_files{i}(11:20);
temp4{1} = temp3;
if strcmp(temp2, 'MAC_DE') ==0
    temp5 = label_files{i}(1:11);
    temp6{1} = temp5;
    temp3 = label_files{i}(12:20);
    temp4{1} = temp3;
end

storesublabel(i,1) = temp6;
storesublabel(i,2) = temp4;
storesublabel(i,3) = tempctstring;
tempctstring = [];
ctnum = [];
temp1 = [];
temp2 = [];
temp3 = [];
temp4 = [];
end
g = 1;
for x = 1:16
    z(1:22,x) = a(g:g+21,2);
   
    
    g = g +22;
end
data = z;
[matrix] = reformat_BWAOV2_trainedvsUntrained(data);
BWAOV2(matrix)
mixed_between_within_anova(matrix)
% 
% '     Source                          SSq        df       MSq         F         p        
% -------------------------------------------------------------------------------------
%      Between-subjects factor    3725.153         1  3725.153     1.560 0.2260478
%      Between-subjects error    47750.010        20  2387.501
%      Within-subjects factor    189240.080        15 12616.005    24.341 0.0000000
%      Within x between int.     13941.532        15   929.435     1.793 0.0348694
%      Within-subjects error     155489.468       300   518.298
    
data = data';
[nconditions nsubject] = size(data)

MeanSubtractedData=data-repmat(mean(data,1),nconditions,1);

withinSubjectStandardError=std(MeanSubtractedData,0,2)/sqrt(nsubject); 


bar(mean(data'))
hold on
errorbar(mean(data'), withinSubjectStandardError)

data = data';
size(data);
con = data(1:11,:);
macd = data(12:22,:);
con =con';
macd = macd';
[nconditions nsubject] = size(con);

MeanSubtractedData=con-repmat(mean(con,1),nconditions,1);

withinSubjectStandardError=std(MeanSubtractedData,0,2)/sqrt(nsubject); 


bar(mean(con'))
hold on
errorbar(mean(con'), withinSubjectStandardError)

figure
[nconditions nsubject] = size(macd);

MeanSubtractedData=macd-repmat(mean(macd,1),nconditions,1);

withinSubjectStandardError=std(MeanSubtractedData,0,2)/sqrt(nsubject); 

bar(mean(macd'))
hold on
errorbar(mean(macd'), withinSubjectStandardError)


